<html>
<head>
  <meta charset="utf-8">
  <title>Mario Tests</title>
  <link rel="stylesheet" href="../node_modules/mocha/mocha.css" />
</head>
<body>
  <script src="../node_modules/mocha/mocha.js"></script>
  <script src="../node_modules/unexpected/unexpected.js"></script>
  <script>
    // Hacky hack to get the detector function of mario rather than the result object.
    window.module = { exports: true }
  </script>
  <script src="../mario.js"></script>
  <div id="mocha"></div>
  <script>
    mocha.setup('bdd');
    // More hacky hack to make the test suite handle its dependencies right.
    var deps = { 'unexpected': weknowhow.expect, '../mario': module.exports };
    window.require = function (dep) {
      return deps[dep];
    };
  </script>
  <script src="mario.spec.js"></script>
  <script>
      mocha.checkLeaks();
      mocha.run();
  </script>
</body>
</html>

